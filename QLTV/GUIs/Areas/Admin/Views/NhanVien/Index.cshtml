@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout2.cshtml";
}

<h2>Index</h2>
    @ViewBag.thongbao
<p>
    @Html.ActionLink("Create New", "Create")
    <br />
    <label>Ten nhan vien</label>
    <input type="text" placeholder="Ten Nhan Vien" id="tennhanvien" />
    <button class="btn btn-primary" id="search">Tim kiem</button>
    @Html.DropDownList("Pagesize", new SelectList(ViewBag.Pagesize, "ID", "ID"), new { @class = "form-control" })
</p>
<table class="table">
    <tr>
        <th>
            TT
        </th>
        <th>
            Tên nhân viên
        </th>
        <th>
            Email
        </th>
        <th>
            Số ĐT
        </th>
        <th>
            Chinh Sua
        </th>
        <th>Xoa </th>
    </tr>
    <tbody id="tbData">
        
    </tbody>
    <tfoot>
        <tr>
            <th colspan="100" id="pages">

            </th>
        </tr>
    </tfoot>
   
    

</table>
@section scripts{
<script>
    

    var nhanvien = {
        init: function () {
            nhanvien.search(1);
            $("#search").click(function () {
                nhanvien.search(1);
            });
            $("#Pagesize").change(function () {
                nhanvien.search(1);
            });
        },
        search: function (index) {
            var tennhanvien = $("#tennhanvien").val();
            var size = $("#Pagesize").val();
            var form = new FormData()
            form.append("ten", tennhanvien);
            form.append("size", size);
            form.append("index", index);
           $.ajax({
                type: 'POST',
               dataType: 'Json',
               contentType: false,
               processData: false,
               data: form,
               url: '/Admin/Nhanvien/Search/',
               success: function (res) {
                   $("#tbData").html(res.data);
                   $("#pages").html(res.page);
               },            
            });
        },

    }
    nhanvien.init();
    function goto(i) {
        nhanvien.search(i);
    }
</script>
    }